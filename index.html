<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nguyễn Thao </title>
  <style>
    :root{
      --bg:#0f0f13;
      --heart:#ff4d6d;
      --heart-dark:#e63956;
      --ribbon:#ffb703;
      --string:#d97706;
      --shadow: 0 20px 60px rgba(0,0,0,.45), 0 2px 10px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;display:grid;place-items:center;min-height:100vh;background:
        radial-gradient(1200px 600px at 50% -10%,#1a1a22 0%, #0c0c10 70%, #07070a 100%),
        var(--bg);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:#e5e7eb;
    }
    .wrap{display:grid;gap:18px;justify-items:center}
    .hint{opacity:.8;font-size:.95rem}

    /* Card area */
    .card{position:relative;width:min(84vw,420px);aspect-ratio:1/1.05;filter:drop-shadow(0 10px 30px rgba(0,0,0,.45));}
    .stage{width:100%;height:100%;border-radius:28px;padding:18px;background:linear-gradient(180deg,#111217, #0c0d12);box-shadow:var(--shadow);}

    /* Make the SVG fill the stage */
    svg{width:100%;height:100%;display:block}

    /* Smooth animations */
    .cover-left, .cover-right, #ribbon, .knot, .stringL, .stringR, .glow{
      transition: transform .9s cubic-bezier(.2,.8,.2,1), opacity .6s ease;
    }
    .cover-left, .cover-right{transition-duration: 1.1s}

    /* Ribbon hover cue */
    #ribbon{cursor:pointer}
    #ribbon:focus-visible{outline:2px dashed #fff; outline-offset:4px}
    .card:not(.opened) #ribbon:hover .knot{transform: scale(1.06) rotate(3deg)}

    /* Initial states */
    .cover-left, .cover-right{transform-origin: center; transform-box: fill-box}
    .glow{opacity:.0}

    /* Opened states */
    .card.opened #ribbon{opacity:0; transform: translateY(-16px)}
    .card.opened .glow{opacity:.28}
    .card.opened .cover-left,.card.opened .cover-right{opacity:0}
    .card.opened .photo{opacity:1; transform: scale(1)}

    /* Image reveal */
    .photo{opacity:0; transform: scale(.98); transition: opacity 1s ease .2s, transform 1s cubic-bezier(.2,.8,.2,1) .2s}

    /* Floating hearts */
    .float-heart{animation: float 4s ease-in-out infinite; opacity:.65}
    .float-heart.h2{animation-delay: .8s}
    .float-heart.h3{animation-delay: 1.6s}
    @keyframes float{
      0%{transform:translateY(0)}
      50%{transform:translateY(-8px)}
      100%{transform:translateY(0)}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" id="card">
      <div class="stage">
        <!--
          Pure SVG approach: we draw a heart path once (id="heartPath").
          - The image is clipped by that heart.
          - Two colored halves sit on top as a "cover" and swing open when the ribbon is pulled.
          - The ribbon is a button (for accessibility) layered above the heart.
        -->
        <svg viewBox="0 0 400 420" xmlns="http://www.w3.org/2000/svg" aria-label="Thiệp trái tim">
          <defs>
            <!-- Heart shape -->
            <path id="heartPath" d="M200 360
              C110 300, 60 240, 60 165
              C60 110, 100 75, 145 75
              C175 75, 200 92, 200 118
              C200 92, 225 75, 255 75
              C300 75, 340 110, 340 165
              C340 240, 290 300, 200 360Z" />

            <!-- Clip the photo inside the heart -->
            <clipPath id="clipHeart">
              <use href="#heartPath" />
            </clipPath>

            <!-- Masks to split the heart into left / right covers -->
            <mask id="maskLeft">
              <rect x="0" y="0" width="400" height="420" fill="black" />
              <use href="#heartPath" fill="white" />
              <rect x="200" y="0" width="200" height="420" fill="black" />
            </mask>
            <mask id="maskRight">
              <rect x="0" y="0" width="400" height="420" fill="black" />
              <use href="#heartPath" fill="white" />
              <rect x="0" y="0" width="200" height="420" fill="black" />
            </mask>

            <!-- Subtle inner glow once opened -->
            <radialGradient id="glowGradient" cx="50%" cy="55%" r="60%">
              <stop offset="0%" stop-color="#ffffff" stop-opacity=".35"/>
              <stop offset="100%" stop-color="#ffffff" stop-opacity="0"/>
            </radialGradient>

            <!-- Cute floating mini heart symbol -->
            <path id="miniHeart" d="M12 20 C6 16,2 12,2 8 C2 5,4.5 3,7 3 C8.8 3,10.5 4,12 6 C13.5 4,15.2 3,17 3 C19.5 3,22 5,22 8 C22 12,18 16,12 20 Z" />
          </defs>

          <!-- Photo clipped into the heart -->
          <g clip-path="url(#clipHeart)">
            <image class="photo" href="/ohmygod.jpg" x="0" y="0" width="400" height="400" preserveAspectRatio="xMidYMid slice"/>
            <!-- A soft glow appears on open -->
            <ellipse class="glow" cx="200" cy="240" rx="130" ry="90" fill="url(#glowGradient)" />
          </g>

          <!-- Heart covers (two halves) on top -->
          <g class="cover">
            <use class="cover-left" href="#heartPath" fill="var(--heart)" mask="url(#maskLeft)" />
            <use class="cover-right" href="#heartPath" fill="var(--heart-dark)" mask="url(#maskRight)" />
          </g>

          <!-- Floating tiny hearts for vibe -->
          <g opacity=".85">
            <use class="float-heart" href="#miniHeart" fill="#ff4d6d" transform="translate(60,40) scale(1.2)"/>
            <use class="float-heart h2" href="#miniHeart" fill="#fb7185" transform="translate(316,48) scale(1.1)"/>
            <use class="float-heart h3" href="#miniHeart" fill="#fda4af" transform="translate(330,340) scale(.9)"/>
          </g>

          <!-- Ribbon with strings & knot as a real button -->
          <g id="ribbon" tabindex="0" role="button" aria-label="Kéo dây để mở" >
            <!-- strings -->
            <path class="stringL" d="M60 180 H175" stroke="var(--string)" stroke-width="6" stroke-linecap="round"/>
            <path class="stringR" d="M225 180 H340" stroke="var(--string)" stroke-width="6" stroke-linecap="round"/>
            <!-- knot -->
            <g class="knot">
              <circle cx="200" cy="180" r="20" fill="var(--ribbon)" />
              <path d="M190 173 q-16 -10 -30 6 q16 8 30 4 z" fill="#ffd166"/>
              <path d="M210 173 q16 -10 30 6 q-16 8 -30 4 z" fill="#ffd166"/>
            </g>
          </g>
        </svg>
      </div>
    </div>
  </div>

  <script>
    const card = document.getElementById('card');
    const ribbon = document.getElementById('ribbon');

    function openCard(){
      if(!card.classList.contains('opened')){
        card.classList.add('opened');
      } else {
        // đóng lại nếu thích
        card.classList.remove('opened');
      }
    }

    ribbon.addEventListener('click', openCard);
    ribbon.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter' || e.key === ' '){
        e.preventDefault();
        openCard();
      }
    });
  </script>
</body>
</html>
